{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _defaultsDeep = require(\"lodash/fp/defaultsDeep\");\n\nvar _defaultsDeep2 = _interopRequireDefault(_defaultsDeep);\n\nvar _isEqual = require(\"lodash/isEqual\");\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _differenceWith = require(\"lodash/differenceWith\");\n\nvar _differenceWith2 = _interopRequireDefault(_differenceWith);\n\nvar _visNetwork = require(\"vis-network\");\n\nvar _visNetwork2 = _interopRequireDefault(_visNetwork);\n\nvar _uuid = require(\"uuid\");\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Graph = function (_Component) {\n  _inherits(Graph, _Component);\n\n  function Graph(props) {\n    _classCallCheck(this, Graph);\n\n    var _this = _possibleConstructorReturn(this, (Graph.__proto__ || Object.getPrototypeOf(Graph)).call(this, props));\n\n    var identifier = props.identifier;\n    _this.updateGraph = _this.updateGraph.bind(_this);\n    _this.state = {\n      identifier: identifier !== undefined ? identifier : _uuid2.default.v4()\n    };\n    return _this;\n  }\n\n  _createClass(Graph, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.edges = new _visNetwork2.default.DataSet();\n      this.edges.add(this.props.graph.edges);\n      this.nodes = new _visNetwork2.default.DataSet();\n      this.nodes.add(this.props.graph.nodes);\n      this.updateGraph();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var nodesChange = !(0, _isEqual2.default)(this.props.graph.nodes, nextProps.graph.nodes);\n      var edgesChange = !(0, _isEqual2.default)(this.props.graph.edges, nextProps.graph.edges);\n      var optionsChange = !(0, _isEqual2.default)(this.props.options, nextProps.options);\n      var eventsChange = !(0, _isEqual2.default)(this.props.events, nextProps.events);\n\n      if (nodesChange) {\n        var idIsEqual = function idIsEqual(n1, n2) {\n          return n1.id === n2.id;\n        };\n\n        var nodesRemoved = (0, _differenceWith2.default)(this.props.graph.nodes, nextProps.graph.nodes, idIsEqual);\n        var nodesAdded = (0, _differenceWith2.default)(nextProps.graph.nodes, this.props.graph.nodes, idIsEqual);\n        var nodesChanged = (0, _differenceWith2.default)((0, _differenceWith2.default)(nextProps.graph.nodes, this.props.graph.nodes, _isEqual2.default), nodesAdded);\n        this.patchNodes({\n          nodesRemoved: nodesRemoved,\n          nodesAdded: nodesAdded,\n          nodesChanged: nodesChanged\n        });\n      }\n\n      if (edgesChange) {\n        var edgesRemoved = (0, _differenceWith2.default)(this.props.graph.edges, nextProps.graph.edges, _isEqual2.default);\n        var edgesAdded = (0, _differenceWith2.default)(nextProps.graph.edges, this.props.graph.edges, _isEqual2.default);\n        var edgesChanged = (0, _differenceWith2.default)((0, _differenceWith2.default)(nextProps.graph.edges, this.props.graph.edges, _isEqual2.default), edgesAdded);\n        this.patchEdges({\n          edgesRemoved: edgesRemoved,\n          edgesAdded: edgesAdded,\n          edgesChanged: edgesChanged\n        });\n      }\n\n      if (optionsChange) {\n        this.Network.setOptions(nextProps.options);\n      }\n\n      if (eventsChange) {\n        var events = this.props.events || {};\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = Object.keys(events)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var eventName = _step.value;\n            this.Network.off(eventName, events[eventName]);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        events = nextProps.events || {};\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = Object.keys(events)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _eventName = _step2.value;\n            this.Network.on(_eventName, events[_eventName]);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.updateGraph();\n    }\n  }, {\n    key: \"patchEdges\",\n    value: function patchEdges(_ref) {\n      var edgesRemoved = _ref.edgesRemoved,\n          edgesAdded = _ref.edgesAdded,\n          edgesChanged = _ref.edgesChanged;\n      this.edges.remove(edgesRemoved);\n      this.edges.add(edgesAdded);\n      this.edges.update(edgesChanged);\n    }\n  }, {\n    key: \"patchNodes\",\n    value: function patchNodes(_ref2) {\n      var nodesRemoved = _ref2.nodesRemoved,\n          nodesAdded = _ref2.nodesAdded,\n          nodesChanged = _ref2.nodesChanged;\n      this.nodes.remove(nodesRemoved);\n      this.nodes.add(nodesAdded);\n      this.nodes.update(nodesChanged);\n    }\n  }, {\n    key: \"updateGraph\",\n    value: function updateGraph() {\n      var container = document.getElementById(this.state.identifier);\n      var defaultOptions = {\n        physics: {\n          stabilization: false\n        },\n        autoResize: false,\n        edges: {\n          smooth: false,\n          color: \"#000000\",\n          width: 0.5,\n          arrows: {\n            to: {\n              enabled: true,\n              scaleFactor: 0.5\n            }\n          }\n        }\n      }; // merge user provied options with our default ones\n\n      var options = (0, _defaultsDeep2.default)(defaultOptions, this.props.options);\n      this.Network = new _visNetwork2.default.Network(container, Object.assign({}, this.props.graph, {\n        edges: this.edges,\n        nodes: this.nodes\n      }), options);\n\n      if (this.props.getNetwork) {\n        this.props.getNetwork(this.Network);\n      }\n\n      if (this.props.getNodes) {\n        this.props.getNodes(this.nodes);\n      }\n\n      if (this.props.getEdges) {\n        this.props.getEdges(this.edges);\n      } // Add user provied events to network\n\n\n      var events = this.props.events || {};\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = Object.keys(events)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var eventName = _step3.value;\n          this.Network.on(eventName, events[eventName]);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var identifier = this.state.identifier;\n      var style = this.props.style;\n      return _react2.default.createElement(\"div\", {\n        id: identifier,\n        style: style\n      }, identifier);\n    }\n  }]);\n\n  return Graph;\n}(_react.Component);\n\nGraph.defaultProps = {\n  graph: {},\n  style: {\n    width: \"100%\",\n    height: \"100%\"\n  }\n};\nGraph.propTypes = {\n  graph: _propTypes2.default.object,\n  style: _propTypes2.default.object,\n  getNetwork: _propTypes2.default.func,\n  getNodes: _propTypes2.default.func,\n  getEdges: _propTypes2.default.func\n};\nexports.default = Graph;","map":{"version":3,"sources":["/Users/victorfink/Documents/Projects/noteweb/node_modules/react-graph-vis/lib/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_defaultsDeep","_defaultsDeep2","_isEqual","_isEqual2","_differenceWith","_differenceWith2","_visNetwork","_visNetwork2","_uuid","_uuid2","_propTypes","_propTypes2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Graph","_Component","_this","getPrototypeOf","identifier","updateGraph","bind","state","undefined","v4","componentDidMount","edges","DataSet","add","graph","nodes","shouldComponentUpdate","nextProps","nextState","nodesChange","edgesChange","optionsChange","options","eventsChange","events","idIsEqual","n1","n2","id","nodesRemoved","nodesAdded","nodesChanged","patchNodes","edgesRemoved","edgesAdded","edgesChanged","patchEdges","Network","setOptions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","keys","Symbol","iterator","_step","next","done","eventName","off","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_eventName","on","componentDidUpdate","_ref","remove","update","_ref2","container","document","getElementById","defaultOptions","physics","stabilization","autoResize","smooth","color","width","arrows","to","enabled","scaleFactor","assign","getNetwork","getNodes","getEdges","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","render","style","createElement","Component","defaultProps","height","propTypes","object","func"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,UAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AAA2BE,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4Bb,MAAAA,MAAM,CAACC,cAAP,CAAsBK,MAAtB,EAA8BI,UAAU,CAACI,GAAzC,EAA8CJ,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBX,gBAAgB,CAACU,WAAW,CAACG,SAAb,EAAwBF,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBZ,gBAAgB,CAACU,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAII,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACH,MAAD,CAApC;;AAEA,IAAII,aAAa,GAAGH,OAAO,CAAC,wBAAD,CAA3B;;AAEA,IAAII,cAAc,GAAGF,sBAAsB,CAACC,aAAD,CAA3C;;AAEA,IAAIE,QAAQ,GAAGL,OAAO,CAAC,gBAAD,CAAtB;;AAEA,IAAIM,SAAS,GAAGJ,sBAAsB,CAACG,QAAD,CAAtC;;AAEA,IAAIE,eAAe,GAAGP,OAAO,CAAC,uBAAD,CAA7B;;AAEA,IAAIQ,gBAAgB,GAAGN,sBAAsB,CAACK,eAAD,CAA7C;;AAEA,IAAIE,WAAW,GAAGT,OAAO,CAAC,aAAD,CAAzB;;AAEA,IAAIU,YAAY,GAAGR,sBAAsB,CAACO,WAAD,CAAzC;;AAEA,IAAIE,KAAK,GAAGX,OAAO,CAAC,MAAD,CAAnB;;AAEA,IAAIY,MAAM,GAAGV,sBAAsB,CAACS,KAAD,CAAnC;;AAEA,IAAIE,UAAU,GAAGb,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIc,WAAW,GAAGZ,sBAAsB,CAACW,UAAD,CAAxC;;AAEA,SAASX,sBAAT,CAAgCa,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAASG,eAAT,CAAyBC,QAAzB,EAAmCxB,WAAnC,EAAgD;AAAE,MAAI,EAAEwB,QAAQ,YAAYxB,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIyB,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0CC,IAA1C,EAAgD;AAAE,MAAI,CAACD,IAAL,EAAW;AAAE,UAAM,IAAIE,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOD,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0ED,IAAjF;AAAwF;;AAEhP,SAASG,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIP,SAAJ,CAAc,6DAA6D,OAAOO,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAAC5B,SAAT,GAAqBlB,MAAM,CAACgD,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAAC7B,SAAvC,EAAkD;AAAE+B,IAAAA,WAAW,EAAE;AAAE9C,MAAAA,KAAK,EAAE2C,QAAT;AAAmBnC,MAAAA,UAAU,EAAE,KAA/B;AAAsCE,MAAAA,QAAQ,EAAE,IAAhD;AAAsDD,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAImC,UAAJ,EAAgB/C,MAAM,CAACkD,cAAP,GAAwBlD,MAAM,CAACkD,cAAP,CAAsBJ,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACK,SAAT,GAAqBJ,UAA3F;AAAwG;;AAE9e,IAAIK,KAAK,GAAG,UAAUC,UAAV,EAAsB;AAChCR,EAAAA,SAAS,CAACO,KAAD,EAAQC,UAAR,CAAT;;AAEA,WAASD,KAAT,CAAe7C,KAAf,EAAsB;AACpB+B,IAAAA,eAAe,CAAC,IAAD,EAAOc,KAAP,CAAf;;AAEA,QAAIE,KAAK,GAAGb,0BAA0B,CAAC,IAAD,EAAO,CAACW,KAAK,CAACD,SAAN,IAAmBnD,MAAM,CAACuD,cAAP,CAAsBH,KAAtB,CAApB,EAAkDT,IAAlD,CAAuD,IAAvD,EAA6DpC,KAA7D,CAAP,CAAtC;;AAEA,QAAIiD,UAAU,GAAGjD,KAAK,CAACiD,UAAvB;AAEAF,IAAAA,KAAK,CAACG,WAAN,GAAoBH,KAAK,CAACG,WAAN,CAAkBC,IAAlB,CAAuBJ,KAAvB,CAApB;AACAA,IAAAA,KAAK,CAACK,KAAN,GAAc;AACZH,MAAAA,UAAU,EAAEA,UAAU,KAAKI,SAAf,GAA2BJ,UAA3B,GAAwCxB,MAAM,CAACK,OAAP,CAAewB,EAAf;AADxC,KAAd;AAGA,WAAOP,KAAP;AACD;;AAEDlD,EAAAA,YAAY,CAACgD,KAAD,EAAQ,CAAC;AACnBtC,IAAAA,GAAG,EAAE,mBADc;AAEnBX,IAAAA,KAAK,EAAE,SAAS2D,iBAAT,GAA6B;AAClC,WAAKC,KAAL,GAAa,IAAIjC,YAAY,CAACO,OAAb,CAAqB2B,OAAzB,EAAb;AACA,WAAKD,KAAL,CAAWE,GAAX,CAAe,KAAK1D,KAAL,CAAW2D,KAAX,CAAiBH,KAAhC;AACA,WAAKI,KAAL,GAAa,IAAIrC,YAAY,CAACO,OAAb,CAAqB2B,OAAzB,EAAb;AACA,WAAKG,KAAL,CAAWF,GAAX,CAAe,KAAK1D,KAAL,CAAW2D,KAAX,CAAiBC,KAAhC;AACA,WAAKV,WAAL;AACD;AARkB,GAAD,EASjB;AACD3C,IAAAA,GAAG,EAAE,uBADJ;AAEDX,IAAAA,KAAK,EAAE,SAASiE,qBAAT,CAA+BC,SAA/B,EAA0CC,SAA1C,EAAqD;AAC1D,UAAIC,WAAW,GAAG,CAAC,CAAC,GAAG7C,SAAS,CAACW,OAAd,EAAuB,KAAK9B,KAAL,CAAW2D,KAAX,CAAiBC,KAAxC,EAA+CE,SAAS,CAACH,KAAV,CAAgBC,KAA/D,CAAnB;AACA,UAAIK,WAAW,GAAG,CAAC,CAAC,GAAG9C,SAAS,CAACW,OAAd,EAAuB,KAAK9B,KAAL,CAAW2D,KAAX,CAAiBH,KAAxC,EAA+CM,SAAS,CAACH,KAAV,CAAgBH,KAA/D,CAAnB;AACA,UAAIU,aAAa,GAAG,CAAC,CAAC,GAAG/C,SAAS,CAACW,OAAd,EAAuB,KAAK9B,KAAL,CAAWmE,OAAlC,EAA2CL,SAAS,CAACK,OAArD,CAArB;AACA,UAAIC,YAAY,GAAG,CAAC,CAAC,GAAGjD,SAAS,CAACW,OAAd,EAAuB,KAAK9B,KAAL,CAAWqE,MAAlC,EAA0CP,SAAS,CAACO,MAApD,CAApB;;AAEA,UAAIL,WAAJ,EAAiB;AACf,YAAIM,SAAS,GAAG,SAASA,SAAT,CAAmBC,EAAnB,EAAuBC,EAAvB,EAA2B;AACzC,iBAAOD,EAAE,CAACE,EAAH,KAAUD,EAAE,CAACC,EAApB;AACD,SAFD;;AAGA,YAAIC,YAAY,GAAG,CAAC,GAAGrD,gBAAgB,CAACS,OAArB,EAA8B,KAAK9B,KAAL,CAAW2D,KAAX,CAAiBC,KAA/C,EAAsDE,SAAS,CAACH,KAAV,CAAgBC,KAAtE,EAA6EU,SAA7E,CAAnB;AACA,YAAIK,UAAU,GAAG,CAAC,GAAGtD,gBAAgB,CAACS,OAArB,EAA8BgC,SAAS,CAACH,KAAV,CAAgBC,KAA9C,EAAqD,KAAK5D,KAAL,CAAW2D,KAAX,CAAiBC,KAAtE,EAA6EU,SAA7E,CAAjB;AACA,YAAIM,YAAY,GAAG,CAAC,GAAGvD,gBAAgB,CAACS,OAArB,EAA8B,CAAC,GAAGT,gBAAgB,CAACS,OAArB,EAA8BgC,SAAS,CAACH,KAAV,CAAgBC,KAA9C,EAAqD,KAAK5D,KAAL,CAAW2D,KAAX,CAAiBC,KAAtE,EAA6EzC,SAAS,CAACW,OAAvF,CAA9B,EAA+H6C,UAA/H,CAAnB;AACA,aAAKE,UAAL,CAAgB;AAAEH,UAAAA,YAAY,EAAEA,YAAhB;AAA8BC,UAAAA,UAAU,EAAEA,UAA1C;AAAsDC,UAAAA,YAAY,EAAEA;AAApE,SAAhB;AACD;;AAED,UAAIX,WAAJ,EAAiB;AACf,YAAIa,YAAY,GAAG,CAAC,GAAGzD,gBAAgB,CAACS,OAArB,EAA8B,KAAK9B,KAAL,CAAW2D,KAAX,CAAiBH,KAA/C,EAAsDM,SAAS,CAACH,KAAV,CAAgBH,KAAtE,EAA6ErC,SAAS,CAACW,OAAvF,CAAnB;AACA,YAAIiD,UAAU,GAAG,CAAC,GAAG1D,gBAAgB,CAACS,OAArB,EAA8BgC,SAAS,CAACH,KAAV,CAAgBH,KAA9C,EAAqD,KAAKxD,KAAL,CAAW2D,KAAX,CAAiBH,KAAtE,EAA6ErC,SAAS,CAACW,OAAvF,CAAjB;AACA,YAAIkD,YAAY,GAAG,CAAC,GAAG3D,gBAAgB,CAACS,OAArB,EAA8B,CAAC,GAAGT,gBAAgB,CAACS,OAArB,EAA8BgC,SAAS,CAACH,KAAV,CAAgBH,KAA9C,EAAqD,KAAKxD,KAAL,CAAW2D,KAAX,CAAiBH,KAAtE,EAA6ErC,SAAS,CAACW,OAAvF,CAA9B,EAA+HiD,UAA/H,CAAnB;AACA,aAAKE,UAAL,CAAgB;AAAEH,UAAAA,YAAY,EAAEA,YAAhB;AAA8BC,UAAAA,UAAU,EAAEA,UAA1C;AAAsDC,UAAAA,YAAY,EAAEA;AAApE,SAAhB;AACD;;AAED,UAAId,aAAJ,EAAmB;AACjB,aAAKgB,OAAL,CAAaC,UAAb,CAAwBrB,SAAS,CAACK,OAAlC;AACD;;AAED,UAAIC,YAAJ,EAAkB;AAChB,YAAIC,MAAM,GAAG,KAAKrE,KAAL,CAAWqE,MAAX,IAAqB,EAAlC;AACA,YAAIe,yBAAyB,GAAG,IAAhC;AACA,YAAIC,iBAAiB,GAAG,KAAxB;AACA,YAAIC,cAAc,GAAGjC,SAArB;;AAEA,YAAI;AACF,eAAK,IAAIkC,SAAS,GAAG9F,MAAM,CAAC+F,IAAP,CAAYnB,MAAZ,EAAoBoB,MAAM,CAACC,QAA3B,GAAhB,EAAwDC,KAA7D,EAAoE,EAAEP,yBAAyB,GAAG,CAACO,KAAK,GAAGJ,SAAS,CAACK,IAAV,EAAT,EAA2BC,IAAzD,CAApE,EAAoIT,yBAAyB,GAAG,IAAhK,EAAsK;AACpK,gBAAIU,SAAS,GAAGH,KAAK,CAAC/F,KAAtB;AACA,iBAAKsF,OAAL,CAAaa,GAAb,CAAiBD,SAAjB,EAA4BzB,MAAM,CAACyB,SAAD,CAAlC;AACD;AACF,SALD,CAKE,OAAOE,GAAP,EAAY;AACZX,UAAAA,iBAAiB,GAAG,IAApB;AACAC,UAAAA,cAAc,GAAGU,GAAjB;AACD,SARD,SAQU;AACR,cAAI;AACF,gBAAI,CAACZ,yBAAD,IAA8BG,SAAS,CAACU,MAA5C,EAAoD;AAClDV,cAAAA,SAAS,CAACU,MAAV;AACD;AACF,WAJD,SAIU;AACR,gBAAIZ,iBAAJ,EAAuB;AACrB,oBAAMC,cAAN;AACD;AACF;AACF;;AAEDjB,QAAAA,MAAM,GAAGP,SAAS,CAACO,MAAV,IAAoB,EAA7B;AACA,YAAI6B,0BAA0B,GAAG,IAAjC;AACA,YAAIC,kBAAkB,GAAG,KAAzB;AACA,YAAIC,eAAe,GAAG/C,SAAtB;;AAEA,YAAI;AACF,eAAK,IAAIgD,UAAU,GAAG5G,MAAM,CAAC+F,IAAP,CAAYnB,MAAZ,EAAoBoB,MAAM,CAACC,QAA3B,GAAjB,EAAyDY,MAA9D,EAAsE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAACT,IAAX,EAAV,EAA6BC,IAA5D,CAAtE,EAAyIK,0BAA0B,GAAG,IAAtK,EAA4K;AAC1K,gBAAIK,UAAU,GAAGD,MAAM,CAAC1G,KAAxB;AACA,iBAAKsF,OAAL,CAAasB,EAAb,CAAgBD,UAAhB,EAA4BlC,MAAM,CAACkC,UAAD,CAAlC;AACD;AACF,SALD,CAKE,OAAOP,GAAP,EAAY;AACZG,UAAAA,kBAAkB,GAAG,IAArB;AACAC,UAAAA,eAAe,GAAGJ,GAAlB;AACD,SARD,SAQU;AACR,cAAI;AACF,gBAAI,CAACE,0BAAD,IAA+BG,UAAU,CAACJ,MAA9C,EAAsD;AACpDI,cAAAA,UAAU,CAACJ,MAAX;AACD;AACF,WAJD,SAIU;AACR,gBAAIE,kBAAJ,EAAwB;AACtB,oBAAMC,eAAN;AACD;AACF;AACF;AACF;;AAED,aAAO,KAAP;AACD;AAlFA,GATiB,EA4FjB;AACD7F,IAAAA,GAAG,EAAE,oBADJ;AAEDX,IAAAA,KAAK,EAAE,SAAS6G,kBAAT,GAA8B;AACnC,WAAKvD,WAAL;AACD;AAJA,GA5FiB,EAiGjB;AACD3C,IAAAA,GAAG,EAAE,YADJ;AAEDX,IAAAA,KAAK,EAAE,SAASqF,UAAT,CAAoByB,IAApB,EAA0B;AAC/B,UAAI5B,YAAY,GAAG4B,IAAI,CAAC5B,YAAxB;AAAA,UACIC,UAAU,GAAG2B,IAAI,CAAC3B,UADtB;AAAA,UAEIC,YAAY,GAAG0B,IAAI,CAAC1B,YAFxB;AAIA,WAAKxB,KAAL,CAAWmD,MAAX,CAAkB7B,YAAlB;AACA,WAAKtB,KAAL,CAAWE,GAAX,CAAeqB,UAAf;AACA,WAAKvB,KAAL,CAAWoD,MAAX,CAAkB5B,YAAlB;AACD;AAVA,GAjGiB,EA4GjB;AACDzE,IAAAA,GAAG,EAAE,YADJ;AAEDX,IAAAA,KAAK,EAAE,SAASiF,UAAT,CAAoBgC,KAApB,EAA2B;AAChC,UAAInC,YAAY,GAAGmC,KAAK,CAACnC,YAAzB;AAAA,UACIC,UAAU,GAAGkC,KAAK,CAAClC,UADvB;AAAA,UAEIC,YAAY,GAAGiC,KAAK,CAACjC,YAFzB;AAIA,WAAKhB,KAAL,CAAW+C,MAAX,CAAkBjC,YAAlB;AACA,WAAKd,KAAL,CAAWF,GAAX,CAAeiB,UAAf;AACA,WAAKf,KAAL,CAAWgD,MAAX,CAAkBhC,YAAlB;AACD;AAVA,GA5GiB,EAuHjB;AACDrE,IAAAA,GAAG,EAAE,aADJ;AAEDX,IAAAA,KAAK,EAAE,SAASsD,WAAT,GAAuB;AAC5B,UAAI4D,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAK5D,KAAL,CAAWH,UAAnC,CAAhB;AACA,UAAIgE,cAAc,GAAG;AACnBC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAE;AADR,SADU;AAInBC,QAAAA,UAAU,EAAE,KAJO;AAKnB5D,QAAAA,KAAK,EAAE;AACL6D,UAAAA,MAAM,EAAE,KADH;AAELC,UAAAA,KAAK,EAAE,SAFF;AAGLC,UAAAA,KAAK,EAAE,GAHF;AAILC,UAAAA,MAAM,EAAE;AACNC,YAAAA,EAAE,EAAE;AACFC,cAAAA,OAAO,EAAE,IADP;AAEFC,cAAAA,WAAW,EAAE;AAFX;AADE;AAJH;AALY,OAArB,CAF4B,CAoB5B;;AACA,UAAIxD,OAAO,GAAG,CAAC,GAAGlD,cAAc,CAACa,OAAnB,EAA4BmF,cAA5B,EAA4C,KAAKjH,KAAL,CAAWmE,OAAvD,CAAd;AAEA,WAAKe,OAAL,GAAe,IAAI3D,YAAY,CAACO,OAAb,CAAqBoD,OAAzB,CAAiC4B,SAAjC,EAA4CrH,MAAM,CAACmI,MAAP,CAAc,EAAd,EAAkB,KAAK5H,KAAL,CAAW2D,KAA7B,EAAoC;AAC7FH,QAAAA,KAAK,EAAE,KAAKA,KADiF;AAE7FI,QAAAA,KAAK,EAAE,KAAKA;AAFiF,OAApC,CAA5C,EAGXO,OAHW,CAAf;;AAKA,UAAI,KAAKnE,KAAL,CAAW6H,UAAf,EAA2B;AACzB,aAAK7H,KAAL,CAAW6H,UAAX,CAAsB,KAAK3C,OAA3B;AACD;;AAED,UAAI,KAAKlF,KAAL,CAAW8H,QAAf,EAAyB;AACvB,aAAK9H,KAAL,CAAW8H,QAAX,CAAoB,KAAKlE,KAAzB;AACD;;AAED,UAAI,KAAK5D,KAAL,CAAW+H,QAAf,EAAyB;AACvB,aAAK/H,KAAL,CAAW+H,QAAX,CAAoB,KAAKvE,KAAzB;AACD,OAtC2B,CAwC5B;;;AACA,UAAIa,MAAM,GAAG,KAAKrE,KAAL,CAAWqE,MAAX,IAAqB,EAAlC;AACA,UAAI2D,0BAA0B,GAAG,IAAjC;AACA,UAAIC,kBAAkB,GAAG,KAAzB;AACA,UAAIC,eAAe,GAAG7E,SAAtB;;AAEA,UAAI;AACF,aAAK,IAAI8E,UAAU,GAAG1I,MAAM,CAAC+F,IAAP,CAAYnB,MAAZ,EAAoBoB,MAAM,CAACC,QAA3B,GAAjB,EAAyD0C,MAA9D,EAAsE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAACvC,IAAX,EAAV,EAA6BC,IAA5D,CAAtE,EAAyImC,0BAA0B,GAAG,IAAtK,EAA4K;AAC1K,cAAIlC,SAAS,GAAGsC,MAAM,CAACxI,KAAvB;AAEA,eAAKsF,OAAL,CAAasB,EAAb,CAAgBV,SAAhB,EAA2BzB,MAAM,CAACyB,SAAD,CAAjC;AACD;AACF,OAND,CAME,OAAOE,GAAP,EAAY;AACZiC,QAAAA,kBAAkB,GAAG,IAArB;AACAC,QAAAA,eAAe,GAAGlC,GAAlB;AACD,OATD,SASU;AACR,YAAI;AACF,cAAI,CAACgC,0BAAD,IAA+BG,UAAU,CAAClC,MAA9C,EAAsD;AACpDkC,YAAAA,UAAU,CAAClC,MAAX;AACD;AACF,SAJD,SAIU;AACR,cAAIgC,kBAAJ,EAAwB;AACtB,kBAAMC,eAAN;AACD;AACF;AACF;AACF;AApEA,GAvHiB,EA4LjB;AACD3H,IAAAA,GAAG,EAAE,QADJ;AAEDX,IAAAA,KAAK,EAAE,SAASyI,MAAT,GAAkB;AACvB,UAAIpF,UAAU,GAAG,KAAKG,KAAL,CAAWH,UAA5B;AACA,UAAIqF,KAAK,GAAG,KAAKtI,KAAL,CAAWsI,KAAvB;AAEA,aAAOxH,OAAO,CAACgB,OAAR,CAAgByG,aAAhB,CAA8B,KAA9B,EAAqC;AAC1C9D,QAAAA,EAAE,EAAExB,UADsC;AAE1CqF,QAAAA,KAAK,EAAEA;AAFmC,OAArC,EAGJrF,UAHI,CAAP;AAID;AAVA,GA5LiB,CAAR,CAAZ;;AAyMA,SAAOJ,KAAP;AACD,CA3NW,CA2NVjC,MAAM,CAAC4H,SA3NG,CAAZ;;AA6NA3F,KAAK,CAAC4F,YAAN,GAAqB;AACnB9E,EAAAA,KAAK,EAAE,EADY;AAEnB2E,EAAAA,KAAK,EAAE;AAAEf,IAAAA,KAAK,EAAE,MAAT;AAAiBmB,IAAAA,MAAM,EAAE;AAAzB;AAFY,CAArB;AAIA7F,KAAK,CAAC8F,SAAN,GAAkB;AAChBhF,EAAAA,KAAK,EAAEhC,WAAW,CAACG,OAAZ,CAAoB8G,MADX;AAEhBN,EAAAA,KAAK,EAAE3G,WAAW,CAACG,OAAZ,CAAoB8G,MAFX;AAGhBf,EAAAA,UAAU,EAAElG,WAAW,CAACG,OAAZ,CAAoB+G,IAHhB;AAIhBf,EAAAA,QAAQ,EAAEnG,WAAW,CAACG,OAAZ,CAAoB+G,IAJd;AAKhBd,EAAAA,QAAQ,EAAEpG,WAAW,CAACG,OAAZ,CAAoB+G;AALd,CAAlB;AAQAlJ,OAAO,CAACmC,OAAR,GAAkBe,KAAlB","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _defaultsDeep = require(\"lodash/fp/defaultsDeep\");\n\nvar _defaultsDeep2 = _interopRequireDefault(_defaultsDeep);\n\nvar _isEqual = require(\"lodash/isEqual\");\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _differenceWith = require(\"lodash/differenceWith\");\n\nvar _differenceWith2 = _interopRequireDefault(_differenceWith);\n\nvar _visNetwork = require(\"vis-network\");\n\nvar _visNetwork2 = _interopRequireDefault(_visNetwork);\n\nvar _uuid = require(\"uuid\");\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Graph = function (_Component) {\n  _inherits(Graph, _Component);\n\n  function Graph(props) {\n    _classCallCheck(this, Graph);\n\n    var _this = _possibleConstructorReturn(this, (Graph.__proto__ || Object.getPrototypeOf(Graph)).call(this, props));\n\n    var identifier = props.identifier;\n\n    _this.updateGraph = _this.updateGraph.bind(_this);\n    _this.state = {\n      identifier: identifier !== undefined ? identifier : _uuid2.default.v4()\n    };\n    return _this;\n  }\n\n  _createClass(Graph, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.edges = new _visNetwork2.default.DataSet();\n      this.edges.add(this.props.graph.edges);\n      this.nodes = new _visNetwork2.default.DataSet();\n      this.nodes.add(this.props.graph.nodes);\n      this.updateGraph();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var nodesChange = !(0, _isEqual2.default)(this.props.graph.nodes, nextProps.graph.nodes);\n      var edgesChange = !(0, _isEqual2.default)(this.props.graph.edges, nextProps.graph.edges);\n      var optionsChange = !(0, _isEqual2.default)(this.props.options, nextProps.options);\n      var eventsChange = !(0, _isEqual2.default)(this.props.events, nextProps.events);\n\n      if (nodesChange) {\n        var idIsEqual = function idIsEqual(n1, n2) {\n          return n1.id === n2.id;\n        };\n        var nodesRemoved = (0, _differenceWith2.default)(this.props.graph.nodes, nextProps.graph.nodes, idIsEqual);\n        var nodesAdded = (0, _differenceWith2.default)(nextProps.graph.nodes, this.props.graph.nodes, idIsEqual);\n        var nodesChanged = (0, _differenceWith2.default)((0, _differenceWith2.default)(nextProps.graph.nodes, this.props.graph.nodes, _isEqual2.default), nodesAdded);\n        this.patchNodes({ nodesRemoved: nodesRemoved, nodesAdded: nodesAdded, nodesChanged: nodesChanged });\n      }\n\n      if (edgesChange) {\n        var edgesRemoved = (0, _differenceWith2.default)(this.props.graph.edges, nextProps.graph.edges, _isEqual2.default);\n        var edgesAdded = (0, _differenceWith2.default)(nextProps.graph.edges, this.props.graph.edges, _isEqual2.default);\n        var edgesChanged = (0, _differenceWith2.default)((0, _differenceWith2.default)(nextProps.graph.edges, this.props.graph.edges, _isEqual2.default), edgesAdded);\n        this.patchEdges({ edgesRemoved: edgesRemoved, edgesAdded: edgesAdded, edgesChanged: edgesChanged });\n      }\n\n      if (optionsChange) {\n        this.Network.setOptions(nextProps.options);\n      }\n\n      if (eventsChange) {\n        var events = this.props.events || {};\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = Object.keys(events)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var eventName = _step.value;\n            this.Network.off(eventName, events[eventName]);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        events = nextProps.events || {};\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = Object.keys(events)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _eventName = _step2.value;\n            this.Network.on(_eventName, events[_eventName]);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.updateGraph();\n    }\n  }, {\n    key: \"patchEdges\",\n    value: function patchEdges(_ref) {\n      var edgesRemoved = _ref.edgesRemoved,\n          edgesAdded = _ref.edgesAdded,\n          edgesChanged = _ref.edgesChanged;\n\n      this.edges.remove(edgesRemoved);\n      this.edges.add(edgesAdded);\n      this.edges.update(edgesChanged);\n    }\n  }, {\n    key: \"patchNodes\",\n    value: function patchNodes(_ref2) {\n      var nodesRemoved = _ref2.nodesRemoved,\n          nodesAdded = _ref2.nodesAdded,\n          nodesChanged = _ref2.nodesChanged;\n\n      this.nodes.remove(nodesRemoved);\n      this.nodes.add(nodesAdded);\n      this.nodes.update(nodesChanged);\n    }\n  }, {\n    key: \"updateGraph\",\n    value: function updateGraph() {\n      var container = document.getElementById(this.state.identifier);\n      var defaultOptions = {\n        physics: {\n          stabilization: false\n        },\n        autoResize: false,\n        edges: {\n          smooth: false,\n          color: \"#000000\",\n          width: 0.5,\n          arrows: {\n            to: {\n              enabled: true,\n              scaleFactor: 0.5\n            }\n          }\n        }\n      };\n\n      // merge user provied options with our default ones\n      var options = (0, _defaultsDeep2.default)(defaultOptions, this.props.options);\n\n      this.Network = new _visNetwork2.default.Network(container, Object.assign({}, this.props.graph, {\n        edges: this.edges,\n        nodes: this.nodes\n      }), options);\n\n      if (this.props.getNetwork) {\n        this.props.getNetwork(this.Network);\n      }\n\n      if (this.props.getNodes) {\n        this.props.getNodes(this.nodes);\n      }\n\n      if (this.props.getEdges) {\n        this.props.getEdges(this.edges);\n      }\n\n      // Add user provied events to network\n      var events = this.props.events || {};\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = Object.keys(events)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var eventName = _step3.value;\n\n          this.Network.on(eventName, events[eventName]);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var identifier = this.state.identifier;\n      var style = this.props.style;\n\n      return _react2.default.createElement(\"div\", {\n        id: identifier,\n        style: style\n      }, identifier);\n    }\n  }]);\n\n  return Graph;\n}(_react.Component);\n\nGraph.defaultProps = {\n  graph: {},\n  style: { width: \"100%\", height: \"100%\" }\n};\nGraph.propTypes = {\n  graph: _propTypes2.default.object,\n  style: _propTypes2.default.object,\n  getNetwork: _propTypes2.default.func,\n  getNodes: _propTypes2.default.func,\n  getEdges: _propTypes2.default.func\n};\n\nexports.default = Graph;"]},"metadata":{},"sourceType":"script"}